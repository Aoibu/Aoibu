<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ø­Ù‚Ù‚ ÙƒÙˆÙ†Ø§Ù† - Aoibu News</title>
<meta name="description" content="ØªØºØ·ÙŠØ© Ø­ØµØ±ÙŠØ© ÙˆØ´Ø§Ù…Ù„Ø© Ù„Ø£Ø­Ø¯Ø« Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ø­Ù‚Ù‚ ÙƒÙˆÙ†Ø§Ù†ØŒ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø­Ù„Ù‚Ø§ØªØŒ ØªØ³Ø±ÙŠØ¨Ø§Øª Ø§Ù„Ù…Ø§Ù†Ø¬Ø§ØŒ ÙˆØ£Ø®Ø¨Ø§Ø± Ø§Ù„Ø£ÙÙ„Ø§Ù… Ø§Ù„Ø³Ù†ÙˆÙŠØ©. ÙƒÙ„ Ù…Ø§ ÙŠØ®Øµ ÙƒÙˆÙ†Ø§Ù† ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯.">
<meta name="keywords" content="Ø§Ù„Ù…Ø­Ù‚Ù‚ ÙƒÙˆÙ†Ø§Ù†, Ø£Ø®Ø¨Ø§Ø± ÙƒÙˆÙ†Ø§Ù†, Ø­Ù„Ù‚Ø§Øª ÙƒÙˆÙ†Ø§Ù†, Ù…Ø§Ù†Ø¬Ø§ ÙƒÙˆÙ†Ø§Ù†, ÙÙŠÙ„Ù… ÙƒÙˆÙ†Ø§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯, ØªØ³Ø±ÙŠØ¨Ø§Øª ÙƒÙˆÙ†Ø§Ù†, Aoibu, Detective Conan News">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<meta name="author" content="Aoibu">

<meta property="og:type" content="website">
<meta property="og:title" content="Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ø­Ù‚Ù‚ ÙƒÙˆÙ†Ø§Ù† | Aoibu News">
<meta property="og:description" content="Ù…ØµØ¯Ø±Ùƒ Ø§Ù„Ø£ÙˆÙ„ Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙƒÙ„ Ø¬Ø¯ÙŠØ¯ Ø¹Ù† Ø¹Ø§Ù„Ù… Ø§Ù„Ù…Ø­Ù‚Ù‚ ÙƒÙˆÙ†Ø§Ù† (Ø­Ù„Ù‚Ø§ØªØŒ Ø£ÙÙ„Ø§Ù…ØŒ ÙˆÙ…Ø§Ù†Ø¬Ø§).">
<meta property="og:url" content="https://aoibu.github.io/Aoibu/news.html">
<meta property="og:site_name" content="Aoibu News">
<meta property="og:image" content="Aoibu_Logo192.webp">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ø­Ù‚Ù‚ ÙƒÙˆÙ†Ø§Ù† - Aoibu">
<meta name="twitter:description" content="ØªØ§Ø¨Ø¹ Ø£Ø­Ø¯Ø« ØªØ³Ø±ÙŠØ¨Ø§Øª ÙˆÙ…ÙˆØ§Ø¹ÙŠØ¯ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ù‚Ù‚ ÙƒÙˆÙ†Ø§Ù†.">
<meta name="twitter:image" content="Aoibu_Logo192.webp">

<link rel="canonical" href="https://aoibu.github.io/Aoibu/news.html">
<link rel="icon" type="image/webp" href="Aoibu_Logo192.webp">
<link href="https://fonts.googleapis.com/css2?family=El+Messiri:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "NewsMediaOrganization",
  "name": "Aoibu Detective Conan News",
  "alternateName": "Ø£Ø®Ø¨Ø§Ø± ÙƒÙˆÙ†Ø§Ù† Aoibu",
  "url": "https://aoibu.github.io/Aoibu/news.html",
  "logo": "https://aoibu.github.io/Aoibu/Aoibu_Logo192.webp",
  "sameAs": [
    "https://aoibu.github.io/Aoibu/news.html"
  ],
  "description": "Ù…ÙˆÙ‚Ø¹ Ù…ØªØ®ØµØµ ÙÙŠ Ù†Ø´Ø± Ø£Ø®Ø¨Ø§Ø± Ø£Ù†Ù…ÙŠ ÙˆÙ…Ø§Ù†Ø¬Ø§ Ø§Ù„Ù…Ø­Ù‚Ù‚ ÙƒÙˆÙ†Ø§Ù†."
}
</script>

<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
<script>
  window.OneSignal = window.OneSignal || [];
  OneSignal.push(function() {
    OneSignal.init({
      appId: "01c320e6-50eb-419f-9a4a-27dbb40c3cbb",
      safari_web_id: "web.onesignal.auto.xxxxx",
      notifyButton: { enable: true, position: 'bottom-left' },
      allowLocalhostAsSecureOrigin: true,
    });
  });
</script>

<style>
    :root {
      --primary-color: #00bcd4;
      --secondary-color: #ff3d3d;
      --bg-dark: #0a0b10;
      --card-bg: #16181f;
      --text-main: #ffffff;
      --text-muted: #a0a0a0;
      --skeleton-base: #222530;
      --skeleton-shine: #2e3242;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      background-color: var(--bg-dark);
      background-image: 
        radial-gradient(circle at 15% 25%, rgba(0, 188, 212, 0.1) 0%, transparent 25%),
        radial-gradient(circle at 85% 75%, rgba(255, 61, 61, 0.1) 0%, transparent 25%);
      font-family: 'El Messiri', sans-serif;
      color: var(--text-main);
      overflow-x: hidden;
      scroll-behavior: smooth;
    }

    header {
      background: rgba(22, 24, 31, 0.85);
      backdrop-filter: blur(10px);
      padding: 15px;
      text-align: center;
      position: sticky; top: 0; z-index: 1000;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    header h1 { margin: 0; color: var(--primary-color); font-size: 24px; }
    
    .home-link {
        position: absolute; right: 20px; color: white;
        text-decoration: none; font-size: 1.2rem; transition: 0.3s;
        display: flex; align-items: center; gap: 5px;
    }
    .home-link:hover { color: var(--primary-color); transform: scale(1.1); }

    .bg-particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
    .particle { position: absolute; background: rgba(255, 255, 255, 0.1); border-radius: 50%; animation: floatUp 20s infinite linear; }
    @keyframes floatUp { from { transform: translateY(100vh); opacity: 0; } to { transform: translateY(-100px); opacity: 0.5; } }

    .container { max-width: 1100px; margin: 20px auto 40px auto; padding: 20px; }

    .news-grid {
      display: grid; 
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 30px; perspective: 1000px;
    }

    article.news-card {
      background-color: var(--card-bg);
      border-radius: 15px;
      border: 1px solid rgba(255,255,255,0.05);
      overflow: hidden;
      display: flex; flex-direction: column;
      transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      opacity: 0; transform: translateY(50px);
      position: relative;
    }
    
    article.news-card.visible { opacity: 1; transform: translateY(0); }
    article.news-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 15px 30px rgba(0,0,0,0.5), 0 0 15px rgba(0, 188, 212, 0.2);
      border-color: rgba(255,255,255,0.2);
    }

    .card-img { width: 100%; height: 200px; object-fit: cover; border-bottom: 2px solid var(--primary-color); }
    .card-category-badge {
        position: absolute; top: 10px; right: 10px; background: var(--primary-color);
        color: #000; font-size: 11px; font-weight: bold; padding: 3px 10px;
        border-radius: 12px; z-index: 2;
    }

    .card-content { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
    .card-date { font-size: 12px; color: var(--primary-color); margin-bottom: 8px; font-weight: bold; display: block; }
    .card-title { font-size: 18px; font-weight: 700; margin: 0 0 10px; color: white; line-height: 1.4; }
    .card-desc { font-size: 14px; color: var(--text-muted); line-height: 1.6; }

    .read-more-btn {
        background: none; border: none; color: var(--primary-color);
        cursor: pointer; font-family: 'El Messiri', sans-serif;
        font-size: 13px; padding: 0; margin-top: 5px; font-weight: bold;
    }

    .card-actions {
        display: flex; justify-content: space-between; align-items: center;
        padding: 10px 20px; background: rgba(0,0,0,0.2);
        border-top: 1px solid rgba(255,255,255,0.05);
    }
    
    .action-btn {
        background: none; border: none; color: var(--text-muted);
        cursor: pointer; font-family: 'El Messiri', sans-serif;
        font-size: 16px; display: flex; align-items: center; gap: 6px;
    }
    .like-btn.liked { color: var(--secondary-color); animation: pop 0.3s; }
    @keyframes pop { 50% { transform: scale(1.4); } }

    .toast {
        position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
        background: var(--primary-color); color: #000;
        padding: 10px 20px; border-radius: 30px; font-weight: bold;
        opacity: 0; pointer-events: none; transition: 0.3s; z-index: 2000;
    }
    .toast.show { opacity: 1; bottom: 50px; }

    /* Skeleton Loading */
    .skeleton-card { background-color: var(--card-bg); border-radius: 15px; min-height: 350px; }
    .skeleton-anim {
        background: var(--skeleton-base);
        background-image: linear-gradient(90deg, var(--skeleton-base) 0px, var(--skeleton-shine) 40px, var(--skeleton-base) 80px);
        background-size: 200% 100%; animation: shimmer 1.5s infinite linear;
    }
    @keyframes shimmer { 0% { background-position: 100% 0; } 100% { background-position: -100% 0; } }

    @media (max-width: 600px) { .home-link span { display: none; } }
</style>
</head>
<body>

<div class="bg-particles" id="particles"></div>

<header>
  <a href="index.html" class="home-link">
      <i class="fas fa-home"></i> <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
  </a>
  <h1>ğŸ“° Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ø­Ù‚Ù‚ ÙƒÙˆÙ†Ø§Ù†</h1>
</header>

<div class="container">
    <div id="news-grid" class="news-grid"></div>
</div>

<div id="toast" class="toast">ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø¨Ø±!</div>

<script>
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbz2_FZvjQFyDbn9Ya-bChIBalgybOVjkS3EhYU5PhURzOIauOldhT5XDIi4zoQq5KD4vQ/exec';
    const CHAR_LIMIT = 100;

    // Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙƒÙŠÙ…Ø§ Ù„Ø¬ÙˆØ¬Ù„
    function injectNewsSchema(newsData) {
        newsData.slice(0, 10).forEach(news => {
            const schema = {
                "@context": "https://schema.org",
                "@type": "NewsArticle",
                "headline": news.title,
                "image": [news.image || "https://aoibu.github.io/Aoibu/Aoibu_Logo192.webp"],
                "datePublished": new Date().toISOString(),
                "author": { "@type": "Person", "name": "Aoibu" },
                "publisher": {
                    "@type": "Organization",
                    "name": "Aoibu Detective Conan News",
                    "logo": { "@type": "ImageObject", "url": "https://aoibu.github.io/Aoibu/Aoibu_Logo192.webp" }
                }
            };
            const script = document.createElement('script');
            script.type = 'application/ld+json';
            script.text = JSON.stringify(schema);
            document.head.appendChild(script);
        });
    }

    function showSkeleton() {
        const grid = document.getElementById('news-grid');
        grid.innerHTML = ''; 
        for(let i=0; i<6; i++) {
            grid.innerHTML += `<div class="skeleton-card skeleton-anim"></div>`;
        }
    }

    function renderNews(data) {
        const grid = document.getElementById('news-grid');
        grid.innerHTML = ''; 
        if(!data || data.length === 0) return;

        data.forEach((news, index) => {
            const card = document.createElement('article');
            card.className = 'news-card';
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¢ÙŠØ¯ÙŠ ÙØ±ÙŠØ¯ Ù„ÙƒÙ„ Ø®Ø¨Ø± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ±ØªÙŠØ¨Ù‡
            const uniqueId = 'conan-news-' + index;
            card.id = uniqueId;

            // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…Ù† Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªÙ†ØµÙŠØµ Ø§Ù„ØªÙŠ Ù‚Ø¯ ØªÙƒØ³Ø± ÙƒÙˆØ¯ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
            const safeTitle = news.title.replace(/'/g, "\\'").replace(/"/g, '&quot;');

            let imageHTML = `<img src="${news.image || 'Aoibu_Logo192.webp'}" alt="${news.title}" class="card-img">`;
            let badgeHTML = news.category ? `<span class="card-category-badge">${news.category}</span>` : '';
            
            let fullText = news.desc || "";
            let isLong = fullText.length > CHAR_LIMIT;
            let descHTML = isLong ? 
                `<div class="card-desc"><span class="s-t">${fullText.substring(0, CHAR_LIMIT)}...</span><span class="f-t" style="display:none">${fullText}</span><button class="read-more-btn" onclick="toggleT(this)">Ø§Ù„Ù…Ø²ÙŠØ¯</button></div>` :
                `<div class="card-desc">${fullText}</div>`;

            card.innerHTML = `
                ${badgeHTML} ${imageHTML}
                <div class="card-content">
                    <time class="card-date">${news.date || ''}</time>
                    <h2 class="card-title">${news.title}</h2>
                    ${descHTML}
                </div>
                <div class="card-actions">
                    <button class="action-btn like-btn" onclick="this.classList.toggle('liked')"><i class="far fa-heart"></i></button>
                    <button class="action-btn" onclick="shareN('${uniqueId}', '${safeTitle}')"><i class="fas fa-share-alt"></i> Ù…Ø´Ø§Ø±ÙƒØ©</button>
                </div>
            `;
            grid.appendChild(card);
            setTimeout(() => card.classList.add('visible'), index * 100);
        });
        
        injectNewsSchema(data);
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø± Ù„Ø®Ø¨Ø± Ù…Ø¹ÙŠÙ† ÙˆØ§Ù„ØªÙ…Ø±ÙŠØ± Ø¥Ù„ÙŠÙ‡
        checkUrlHash();
    }

    // Ø¯Ø§Ù„Ø© Ù„Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ø®Ø¨Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯ Ø¥Ø°Ø§ ØªÙ… ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø·
    function checkUrlHash() {
        if(window.location.hash) {
            const id = window.location.hash.substring(1); // Ø¥Ø²Ø§Ù„Ø© Ø¹Ù„Ø§Ù…Ø© #
            setTimeout(() => {
                const element = document.getElementById(id);
                if(element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    // ÙˆÙ…Ø¶Ø© Ù„ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø®Ø¨Ø±
                    element.style.border = "2px solid var(--primary-color)";
                    setTimeout(() => element.style.border = "1px solid rgba(255,255,255,0.05)", 2000);
                }
            }, 800); // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ø¶Ù…Ø§Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        }
    }

    function toggleT(btn) {
        const p = btn.parentElement;
        const st = p.querySelector('.s-t'), ft = p.querySelector('.f-t');
        if(st.style.display==='none'){ st.style.display='inline'; ft.style.display='none'; btn.innerText='Ø§Ù„Ù…Ø²ÙŠØ¯'; }
        else { st.style.display='none'; ft.style.display='inline'; btn.innerText='Ø¥Ø®ÙØ§Ø¡'; }
    }

    // Ø¯Ø§Ù„Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ§Ù„Ù…Ø­Ø³Ù†Ø©
    async function shareN(id, title) {
        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ + Ø§Ù„Ø¢ÙŠØ¯ÙŠ
        const url = `${window.location.origin}${window.location.pathname}#${id}`;
        
        const shareData = {
            title: title,
            text: `Ø§Ù‚Ø±Ø£ Ù‡Ø°Ø§ Ø§Ù„Ø®Ø¨Ø± Ø¹Ù† ÙƒÙˆÙ†Ø§Ù†: ${title}`,
            url: url
        };

        try {
            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù†Ø¸Ø§Ù… (Ù…ÙˆØ¨Ø§ÙŠÙ„)
            if (navigator.share) {
                await navigator.share(shareData);
            } else {
                throw new Error("Web Share not supported");
            }
        } catch (err) {
            // Ø§Ù„Ø¨Ø¯ÙŠÙ„: Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ù„Ø­Ø§ÙØ¸Ø©
            navigator.clipboard.writeText(url).then(() => {
                showToast();
            }).catch(err => console.error('ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®', err));
        }
    }

    function showToast() {
        const t = document.getElementById('toast');
        t.innerText = "ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø¨Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯!";
        t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 2000);
    }

    showSkeleton();
    fetch(SCRIPT_URL).then(r => r.json()).then(data => renderNews(data)).catch(() => {
        document.getElementById('news-grid').innerHTML = '<p style="text-align:center; padding:20px;">Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø£Ø®Ø¨Ø§Ø± ÙƒÙˆÙ†Ø§Ù†.</p>';
    });

    // Ø¬Ø²ÙŠØ¦Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ©
    const parts = document.getElementById('particles');
    for(let i=0; i<20; i++){
        let p = document.createElement('div'); p.className='particle';
        p.style.left = Math.random()*100+'%'; p.style.width=p.style.height=Math.random()*5+2+'px';
        p.style.animationDuration=Math.random()*10+10+'s'; parts.appendChild(p);
    }
</script>
</body>
</html>
